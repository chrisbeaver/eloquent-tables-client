(function () {
'use strict';

var tables = document.getElementsByClassName('eloquent-table');

var headers = [].slice.call(tables[0].tHead.querySelectorAll('th')).map(function (header) {
    return header.innerHTML;
});

// export let paginator = document.createElement('div');

var total_count = { value: 0,
    set: function set(value) {
        this.value = value;
    }
};

var rows = {
    collection: null,
    set: function set(value) {
        this.collection = value;
    }
};

var config = {
    tableRows: 10,
    setTableRows: function setTableRows(value) {
        this.tableRows = value;
    }
};

var asyncGenerator = function () {
  function AwaitValue(value) {
    this.value = value;
  }

  function AsyncGenerator(gen) {
    var front, back;

    function send(key, arg) {
      return new Promise(function (resolve, reject) {
        var request = {
          key: key,
          arg: arg,
          resolve: resolve,
          reject: reject,
          next: null
        };

        if (back) {
          back = back.next = request;
        } else {
          front = back = request;
          resume(key, arg);
        }
      });
    }

    function resume(key, arg) {
      try {
        var result = gen[key](arg);
        var value = result.value;

        if (value instanceof AwaitValue) {
          Promise.resolve(value.value).then(function (arg) {
            resume("next", arg);
          }, function (arg) {
            resume("throw", arg);
          });
        } else {
          settle(result.done ? "return" : "normal", result.value);
        }
      } catch (err) {
        settle("throw", err);
      }
    }

    function settle(type, value) {
      switch (type) {
        case "return":
          front.resolve({
            value: value,
            done: true
          });
          break;

        case "throw":
          front.reject(value);
          break;

        default:
          front.resolve({
            value: value,
            done: false
          });
          break;
      }

      front = front.next;

      if (front) {
        resume(front.key, front.arg);
      } else {
        back = null;
      }
    }

    this._invoke = send;

    if (typeof gen.return !== "function") {
      this.return = undefined;
    }
  }

  if (typeof Symbol === "function" && Symbol.asyncIterator) {
    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {
      return this;
    };
  }

  AsyncGenerator.prototype.next = function (arg) {
    return this._invoke("next", arg);
  };

  AsyncGenerator.prototype.throw = function (arg) {
    return this._invoke("throw", arg);
  };

  AsyncGenerator.prototype.return = function (arg) {
    return this._invoke("return", arg);
  };

  return {
    wrap: function (fn) {
      return function () {
        return new AsyncGenerator(fn.apply(this, arguments));
      };
    },
    await: function (value) {
      return new AwaitValue(value);
    }
  };
}();





var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();







var get$1 = function get$1(object, property, receiver) {
  if (object === null) object = Function.prototype;
  var desc = Object.getOwnPropertyDescriptor(object, property);

  if (desc === undefined) {
    var parent = Object.getPrototypeOf(object);

    if (parent === null) {
      return undefined;
    } else {
      return get$1(parent, property, receiver);
    }
  } else if ("value" in desc) {
    return desc.value;
  } else {
    var getter = desc.get;

    if (getter === undefined) {
      return undefined;
    }

    return getter.call(receiver);
  }
};

















var set$1 = function set$1(object, property, value, receiver) {
  var desc = Object.getOwnPropertyDescriptor(object, property);

  if (desc === undefined) {
    var parent = Object.getPrototypeOf(object);

    if (parent !== null) {
      set$1(parent, property, value, receiver);
    }
  } else if ("value" in desc && desc.writable) {
    desc.value = value;
  } else {
    var setter = desc.set;

    if (setter !== undefined) {
      setter.call(receiver, value);
    }
  }

  return value;
};

/**
 * Fired on AJAX response to construct paginated results.
 *
 */


var Paginator = function () {
    function Paginator(elem, total) {
        classCallCheck(this, Paginator);

        this.elem = elem;
        this.total = total;
    }

    createClass(Paginator, [{
        key: 'calcPages',
        value: function calcPages() {
            return this.total / config.tableRows;
        }
    }, {
        key: 'buildHTML',
        value: function buildHTML() {

            var node = document.createElement('div');
            node.className = 'paginator';
            // wrapper.appendChild(node);
            node.innerHTML = total_count.value;
            this.elem.appendChild(node);
        }
    }, {
        key: 'pages',
        get: function get() {
            return this.calcPages();
        }
    }]);
    return Paginator;
}();

/**
 * AJAX Listener to build table with data returned 
 * from server.
 *
 * @param  {Json} payload a server response
 */
function populateTable(payload) {
    // console.log(tables);
    var elem = tables[0].getElementsByTagName('tbody')[0];
    payload.data.forEach(function (data) {

        var row = elem.insertRow(-1);
        // Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        var cell3 = row.insertCell(2);
        var cell4 = row.insertCell(3);

        // Add some text to the new cells:
        cell1.innerHTML = data.id;
        cell2.innerHTML = data.company.name;
        cell3.innerHTML = data.name;
        cell4.innerHTML = data.price;
    });
    // console.log(paginator);
    total_count.set(payload.count);
    var paginator = new Paginator(elem, total_count.value);
    paginator.buildHTML();
}

/**
 * AJAX Request to server to get Table data.
 */


/**
 * Call back function fired on AJAX result.
 */
function ajaxListener() {
    // console.log(JSON.parse(this.responseText));
    var elem = tables[0]; //.getElementsByTagName('tbody')[0];
    // let table = new Table(elem, rows.set(JSON.parse(this.responseText)));
    // table.load();
    rows.set(JSON.parse(this.responseText));
    populateTable(rows.collection);
}

var Table = function () {
    function Table(elem) {
        classCallCheck(this, Table);

        this.elem = elem; // HTML Element
        this.initialize();
    }

    createClass(Table, [{
        key: 'load',
        value: function load() {
            // console.log(tables);
            // const elem = tables[0].getElementsByTagName('tbody')[0];

            var r = new XMLHttpRequest();
            r.open('POST', this.elem.getAttribute('data-target'), true);
            r.setRequestHeader('X-CSRF-TOKEN', '{{ csrf_token() }}');
            r.setRequestHeader('take', '10');
            r.setRequestHeader('skip', '20');
            r.setRequestHeader('search', 'Wiza');
            r.addEventListener('load', ajaxListener);
            r.onreadystatechange = function () {
                if (r.readyState != 4 || r.status != 200) return;
                // console.log(r.responseText);
            };
            r.send('take=1');
        }

        // ajaxListener(table) {
        //     // console.log(paginator);
        //     // total_count.set(payload.count);
        //     let payload = JSON.parse(responseText);
        //     payload.data.forEach(function(data) {
        //         console.log(this);
        //         var row = this.elem.insertRow(-1);
        //         // Insert new cells (<td> elements) at the 1st and 2nd position of the "new" <tr> element:
        //         var cell1 = row.insertCell(0);
        //         var cell2 = row.insertCell(1);
        //         var cell3 = row.insertCell(2);
        //         var cell4 = row.insertCell(3);

        //         // Add some text to the new cells:
        //         cell1.innerHTML = data.id;
        //         cell2.innerHTML = data.company.name;
        //         cell3.innerHTML = data.name;
        //         cell4.innerHTML = data.price;
        //     });
        //     // console.log(paginator);
        //     // total_count.set(payload.count);
        //     let paginator = new Paginator(this.elem, 10);
        //     paginator.buildHTML();
        // }

    }, {
        key: 'initialize',
        value: function initialize() {
            var wrapper = document.createElement('div');
            wrapper.className = 'table-wrapper';
            var table = this.elem;

            // document.body.insertBefore(wrapper, table);
            // wrapper.appendChild(table);
        }
    }]);
    return Table;
}();

/**
 * Construct basic framework for creating a table.
 */
function initializeTable() {
    var wrapper = document.createElement('div');
    wrapper.className = 'table-wrapper';
    var table = tables[0];

    document.body.insertBefore(wrapper, table);
    wrapper.appendChild(table);
}

// import { ajaxRequest } from './modules/ajaxRequest';

initializeTable();
var elem = tables[0];
var table = new Table(elem);
table.load();
// ajaxRequest();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zY3JpcHRzL2dsb2JhbHMuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3BhZ2luYXRvci5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvcG9wdWxhdGVUYWJsZS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL21vZHVsZXMvYWpheFJlcXVlc3QuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tb2R1bGVzL3RhYmxlLmpzIiwiLi4vLi4vc3JjL3NjcmlwdHMvbW9kdWxlcy9pbml0aWFsaXplVGFibGUuanMiLCIuLi8uLi9zcmMvc2NyaXB0cy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBsZXQgdGFibGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZWxvcXVlbnQtdGFibGUnKTtcblxuZXhwb3J0IGxldCBoZWFkZXJzID0gW10uc2xpY2VcbiAgICAuY2FsbCh0YWJsZXNbMF0udEhlYWQucXVlcnlTZWxlY3RvckFsbCgndGgnKSlcbiAgICAubWFwKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICByZXR1cm4gaGVhZGVyLmlubmVySFRNTDtcbiAgICB9KTtcblxuLy8gZXhwb3J0IGxldCBwYWdpbmF0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuZXhwb3J0IGxldCB0b3RhbF9jb3VudCA9IHsgdmFsdWU6IDAsXG4gICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcbiBcdH1cbn07XG5cbmV4cG9ydCBsZXQgcm93cyA9IHsgXG5cdGNvbGxlY3Rpb246IG51bGwsXG5cdHNldDogZnVuY3Rpb24odmFsdWUpIHtcblx0XHR0aGlzLmNvbGxlY3Rpb24gPSB2YWx1ZTtcblx0fVxufTtcblxuZXhwb3J0IGxldCBjb25maWcgPSB7XG4gICAgdGFibGVSb3dzOiAxMCxcbiAgICBzZXRUYWJsZVJvd3M6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMudGFibGVSb3dzID0gdmFsdWU7IH1cbn0iLCJpbXBvcnQgeyB0b3RhbF9jb3VudCwgY29uZmlnIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG4vKipcbiAqIEZpcmVkIG9uIEFKQVggcmVzcG9uc2UgdG8gY29uc3RydWN0IHBhZ2luYXRlZCByZXN1bHRzLlxuICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkUGFnaW5hdG9yKClcbntcbiAgICAvLyBjb25zb2xlLmxvZygnQ291bnQ6ICcgKyB0b3RhbF9jb3VudCk7XG59XG5cbmV4cG9ydCBjbGFzcyBQYWdpbmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGVsZW0sIHRvdGFsKSB7XG4gICAgICAgIHRoaXMuZWxlbSA9IGVsZW07XG4gICAgICAgIHRoaXMudG90YWwgPSB0b3RhbDtcbiAgICB9XG4gIFxuICAgIGdldCBwYWdlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY1BhZ2VzKCk7XG4gICAgfVxuXG4gICAgY2FsY1BhZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b3RhbCAvIGNvbmZpZy50YWJsZVJvd3M7XG4gICAgfVxuXG4gICAgYnVpbGRIVE1MKCkge1xuICAgICAgICBcbiAgICAgICAgbGV0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgbm9kZS5jbGFzc05hbWUgPSAncGFnaW5hdG9yJztcbiAgICAgICAgLy8gd3JhcHBlci5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgbm9kZS5pbm5lckhUTUwgPSB0b3RhbF9jb3VudC52YWx1ZTtcbiAgICAgICAgdGhpcy5lbGVtLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyB0YWJsZXMsIHRvdGFsX2NvdW50IH0gZnJvbSAnLi4vZ2xvYmFscyc7XG5pbXBvcnQgeyBQYWdpbmF0b3IgfSBmcm9tICcuL3BhZ2luYXRvcic7XG4vKipcbiAqIEFKQVggTGlzdGVuZXIgdG8gYnVpbGQgdGFibGUgd2l0aCBkYXRhIHJldHVybmVkIFxuICogZnJvbSBzZXJ2ZXIuXG4gKlxuICogQHBhcmFtICB7SnNvbn0gcGF5bG9hZCBhIHNlcnZlciByZXNwb25zZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9wdWxhdGVUYWJsZShwYXlsb2FkKVxue1xuICAgIC8vIGNvbnNvbGUubG9nKHRhYmxlcyk7XG4gICAgY29uc3QgZWxlbSA9IHRhYmxlc1swXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGJvZHknKVswXTtcbiAgICBwYXlsb2FkLmRhdGEuZm9yRWFjaChmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgIFxuICAgICAgICB2YXIgcm93ID0gZWxlbS5pbnNlcnRSb3coLTEpO1xuICAgICAgICAvLyBJbnNlcnQgbmV3IGNlbGxzICg8dGQ+IGVsZW1lbnRzKSBhdCB0aGUgMXN0IGFuZCAybmQgcG9zaXRpb24gb2YgdGhlIFwibmV3XCIgPHRyPiBlbGVtZW50OlxuICAgICAgICB2YXIgY2VsbDEgPSByb3cuaW5zZXJ0Q2VsbCgwKTtcbiAgICAgICAgdmFyIGNlbGwyID0gcm93Lmluc2VydENlbGwoMSk7XG4gICAgICAgIHZhciBjZWxsMyA9IHJvdy5pbnNlcnRDZWxsKDIpO1xuICAgICAgICB2YXIgY2VsbDQgPSByb3cuaW5zZXJ0Q2VsbCgzKTtcblxuICAgICAgICAvLyBBZGQgc29tZSB0ZXh0IHRvIHRoZSBuZXcgY2VsbHM6XG4gICAgICAgIGNlbGwxLmlubmVySFRNTCA9IGRhdGEuaWQ7XG4gICAgICAgIGNlbGwyLmlubmVySFRNTCA9IGRhdGEuY29tcGFueS5uYW1lO1xuICAgICAgICBjZWxsMy5pbm5lckhUTUwgPSBkYXRhLm5hbWU7XG4gICAgICAgIGNlbGw0LmlubmVySFRNTCA9IGRhdGEucHJpY2U7XG4gICAgfSk7XG4gICAgLy8gY29uc29sZS5sb2cocGFnaW5hdG9yKTtcbiAgICB0b3RhbF9jb3VudC5zZXQocGF5bG9hZC5jb3VudCk7XG4gICAgbGV0IHBhZ2luYXRvciA9IG5ldyBQYWdpbmF0b3IoZWxlbSwgdG90YWxfY291bnQudmFsdWUpO1xuICAgIHBhZ2luYXRvci5idWlsZEhUTUwoKTtcbn0iLCJpbXBvcnQgeyB0YWJsZXMsIHJvd3MgfSBmcm9tICcuLi9nbG9iYWxzJztcbmltcG9ydCB7IFRhYmxlIH0gZnJvbSAnLi90YWJsZSc7XG5pbXBvcnQgeyBwb3B1bGF0ZVRhYmxlIH0gZnJvbSAnLi9wb3B1bGF0ZVRhYmxlJztcbi8qKlxuICogQUpBWCBSZXF1ZXN0IHRvIHNlcnZlciB0byBnZXQgVGFibGUgZGF0YS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFqYXhSZXF1ZXN0KClcbntcbiAgICBsZXQgciA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIFxuICAgIHIub3BlbignUE9TVCcsIHRhYmxlc1swXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFyZ2V0JyksIHRydWUpO1xuICAgIHIuc2V0UmVxdWVzdEhlYWRlcignWC1DU1JGLVRPS0VOJywgJ3t7IGNzcmZfdG9rZW4oKSB9fScpO1xuICAgIHIuc2V0UmVxdWVzdEhlYWRlcigndGFrZScsICcxMCcpO1xuICAgIHIuc2V0UmVxdWVzdEhlYWRlcignc2tpcCcsICcyMCcpO1xuICAgIHIuc2V0UmVxdWVzdEhlYWRlcignc2VhcmNoJywgJ1dpemEnKTtcbiAgICByLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBhamF4TGlzdGVuZXIpO1xuICAgIHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoci5yZWFkeVN0YXRlICE9IDQgfHwgci5zdGF0dXMgIT0gMjAwKSByZXR1cm47IFxuICAgICAgICAvLyBjb25zb2xlLmxvZyhyLnJlc3BvbnNlVGV4dCk7XG4gICAgfTtcbiAgICByLnNlbmQoJ3Rha2U9MScpO1xufVxuXG4vKipcbiAqIENhbGwgYmFjayBmdW5jdGlvbiBmaXJlZCBvbiBBSkFYIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFqYXhMaXN0ZW5lcigpXG57XG4gICAgLy8gY29uc29sZS5sb2coSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpO1xuICAgIGxldCBlbGVtID0gdGFibGVzWzBdOyAvLy5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGJvZHknKVswXTtcbiAgICAvLyBsZXQgdGFibGUgPSBuZXcgVGFibGUoZWxlbSwgcm93cy5zZXQoSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpKTtcbiAgICAvLyB0YWJsZS5sb2FkKCk7XG4gICAgcm93cy5zZXQoSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpO1xuICAgIHBvcHVsYXRlVGFibGUocm93cy5jb2xsZWN0aW9uKTtcbn0iLCJpbXBvcnQgeyBQYWdpbmF0b3IgfSBmcm9tICcuL3BhZ2luYXRvcic7XG5pbXBvcnQgeyBhamF4TGlzdGVuZXIgfSBmcm9tICcuL2FqYXhSZXF1ZXN0JztcblxuZXhwb3J0IGNsYXNzIFRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtKSB7XG4gICAgICAgIHRoaXMuZWxlbSA9IGVsZW07ICAvLyBIVE1MIEVsZW1lbnRcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XG4gICAgfVxuICBcbiAgICBsb2FkKCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0YWJsZXMpO1xuICAgICAgICAvLyBjb25zdCBlbGVtID0gdGFibGVzWzBdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0Ym9keScpWzBdO1xuICAgICAgICBcbiAgICAgICAgbGV0IHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgci5vcGVuKCdQT1NUJywgdGhpcy5lbGVtLmdldEF0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKSwgdHJ1ZSk7XG4gICAgICAgIHIuc2V0UmVxdWVzdEhlYWRlcignWC1DU1JGLVRPS0VOJywgJ3t7IGNzcmZfdG9rZW4oKSB9fScpO1xuICAgICAgICByLnNldFJlcXVlc3RIZWFkZXIoJ3Rha2UnLCAnMTAnKTtcbiAgICAgICAgci5zZXRSZXF1ZXN0SGVhZGVyKCdza2lwJywgJzIwJyk7XG4gICAgICAgIHIuc2V0UmVxdWVzdEhlYWRlcignc2VhcmNoJywgJ1dpemEnKTtcbiAgICAgICAgci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgYWpheExpc3RlbmVyKTtcbiAgICAgICAgci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoci5yZWFkeVN0YXRlICE9IDQgfHwgci5zdGF0dXMgIT0gMjAwKSByZXR1cm47IFxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coci5yZXNwb25zZVRleHQpO1xuICAgICAgICB9O1xuICAgICAgICByLnNlbmQoJ3Rha2U9MScpO1xuXG4gICAgfVxuICAgIFxuICAgIC8vIGFqYXhMaXN0ZW5lcih0YWJsZSkge1xuICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhwYWdpbmF0b3IpO1xuICAgIC8vICAgICAvLyB0b3RhbF9jb3VudC5zZXQocGF5bG9hZC5jb3VudCk7XG4gICAgLy8gICAgIGxldCBwYXlsb2FkID0gSlNPTi5wYXJzZShyZXNwb25zZVRleHQpO1xuICAgIC8vICAgICBwYXlsb2FkLmRhdGEuZm9yRWFjaChmdW5jdGlvbihkYXRhKSB7XG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyh0aGlzKTtcbiAgICAvLyAgICAgICAgIHZhciByb3cgPSB0aGlzLmVsZW0uaW5zZXJ0Um93KC0xKTtcbiAgICAvLyAgICAgICAgIC8vIEluc2VydCBuZXcgY2VsbHMgKDx0ZD4gZWxlbWVudHMpIGF0IHRoZSAxc3QgYW5kIDJuZCBwb3NpdGlvbiBvZiB0aGUgXCJuZXdcIiA8dHI+IGVsZW1lbnQ6XG4gICAgLy8gICAgICAgICB2YXIgY2VsbDEgPSByb3cuaW5zZXJ0Q2VsbCgwKTtcbiAgICAvLyAgICAgICAgIHZhciBjZWxsMiA9IHJvdy5pbnNlcnRDZWxsKDEpO1xuICAgIC8vICAgICAgICAgdmFyIGNlbGwzID0gcm93Lmluc2VydENlbGwoMik7XG4gICAgLy8gICAgICAgICB2YXIgY2VsbDQgPSByb3cuaW5zZXJ0Q2VsbCgzKTtcblxuICAgIC8vICAgICAgICAgLy8gQWRkIHNvbWUgdGV4dCB0byB0aGUgbmV3IGNlbGxzOlxuICAgIC8vICAgICAgICAgY2VsbDEuaW5uZXJIVE1MID0gZGF0YS5pZDtcbiAgICAvLyAgICAgICAgIGNlbGwyLmlubmVySFRNTCA9IGRhdGEuY29tcGFueS5uYW1lO1xuICAgIC8vICAgICAgICAgY2VsbDMuaW5uZXJIVE1MID0gZGF0YS5uYW1lO1xuICAgIC8vICAgICAgICAgY2VsbDQuaW5uZXJIVE1MID0gZGF0YS5wcmljZTtcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKHBhZ2luYXRvcik7XG4gICAgLy8gICAgIC8vIHRvdGFsX2NvdW50LnNldChwYXlsb2FkLmNvdW50KTtcbiAgICAvLyAgICAgbGV0IHBhZ2luYXRvciA9IG5ldyBQYWdpbmF0b3IodGhpcy5lbGVtLCAxMCk7XG4gICAgLy8gICAgIHBhZ2luYXRvci5idWlsZEhUTUwoKTtcbiAgICAvLyB9XG5cbiAgICBpbml0aWFsaXplKCkge1xuICAgICAgICBsZXQgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB3cmFwcGVyLmNsYXNzTmFtZSA9ICd0YWJsZS13cmFwcGVyJztcbiAgICAgICAgbGV0IHRhYmxlID0gdGhpcy5lbGVtO1xuICAgICAgICBcbiAgICAgICAgLy8gZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUod3JhcHBlciwgdGFibGUpO1xuICAgICAgICAvLyB3cmFwcGVyLmFwcGVuZENoaWxkKHRhYmxlKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgdGFibGVzIH0gZnJvbSAnLi4vZ2xvYmFscyc7XG4vKipcbiAqIENvbnN0cnVjdCBiYXNpYyBmcmFtZXdvcmsgZm9yIGNyZWF0aW5nIGEgdGFibGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplVGFibGUoKVxue1xuICAgIGxldCB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgd3JhcHBlci5jbGFzc05hbWUgPSAndGFibGUtd3JhcHBlcic7XG4gICAgbGV0IHRhYmxlID0gdGFibGVzWzBdO1xuICAgIFxuICAgIGRvY3VtZW50LmJvZHkuaW5zZXJ0QmVmb3JlKHdyYXBwZXIsIHRhYmxlKTtcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHRhYmxlKTtcbn0iLCJpbXBvcnQgeyB0YWJsZXMgfSBmcm9tICcuL2dsb2JhbHMnO1xuaW1wb3J0IHsgVGFibGUgfSBmcm9tICcuL21vZHVsZXMvdGFibGUnO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZVRhYmxlIH0gZnJvbSAnLi9tb2R1bGVzL2luaXRpYWxpemVUYWJsZSc7XG4vLyBpbXBvcnQgeyBhamF4UmVxdWVzdCB9IGZyb20gJy4vbW9kdWxlcy9hamF4UmVxdWVzdCc7XG5cbmluaXRpYWxpemVUYWJsZSgpO1xubGV0IGVsZW0gPSB0YWJsZXNbMF07XG5sZXQgdGFibGUgPSBuZXcgVGFibGUoZWxlbSk7XG50YWJsZS5sb2FkKCk7XG4vLyBhamF4UmVxdWVzdCgpO1xuIl0sIm5hbWVzIjpbInRhYmxlcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImhlYWRlcnMiLCJzbGljZSIsImNhbGwiLCJ0SGVhZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtYXAiLCJoZWFkZXIiLCJpbm5lckhUTUwiLCJ0b3RhbF9jb3VudCIsInZhbHVlIiwicm93cyIsImNvbGxlY3Rpb24iLCJjb25maWciLCJ0YWJsZVJvd3MiLCJQYWdpbmF0b3IiLCJlbGVtIiwidG90YWwiLCJub2RlIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImFwcGVuZENoaWxkIiwiY2FsY1BhZ2VzIiwicG9wdWxhdGVUYWJsZSIsInBheWxvYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImRhdGEiLCJmb3JFYWNoIiwicm93IiwiaW5zZXJ0Um93IiwiY2VsbDEiLCJpbnNlcnRDZWxsIiwiY2VsbDIiLCJjZWxsMyIsImNlbGw0IiwiaWQiLCJjb21wYW55IiwibmFtZSIsInByaWNlIiwic2V0IiwiY291bnQiLCJwYWdpbmF0b3IiLCJidWlsZEhUTUwiLCJhamF4TGlzdGVuZXIiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJUYWJsZSIsImluaXRpYWxpemUiLCJyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwiZ2V0QXR0cmlidXRlIiwic2V0UmVxdWVzdEhlYWRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwic2VuZCIsIndyYXBwZXIiLCJ0YWJsZSIsImluaXRpYWxpemVUYWJsZSIsImJvZHkiLCJpbnNlcnRCZWZvcmUiLCJsb2FkIl0sIm1hcHBpbmdzIjoiOzs7QUFBTyxJQUFJQSxTQUFTQyxTQUFTQyxzQkFBVCxDQUFnQyxnQkFBaEMsQ0FBYjs7QUFFUCxBQUFPLElBQUlDLFVBQVUsR0FBR0MsS0FBSCxDQUNoQkMsSUFEZ0IsQ0FDWEwsT0FBTyxDQUFQLEVBQVVNLEtBQVYsQ0FBZ0JDLGdCQUFoQixDQUFpQyxJQUFqQyxDQURXLEVBRWhCQyxHQUZnQixDQUVaLFVBQVNDLE1BQVQsRUFBaUI7V0FDWEEsT0FBT0MsU0FBZDtDQUhhLENBQWQ7Ozs7QUFRUCxBQUFPLElBQUlDLGNBQWMsRUFBRUMsT0FBTyxDQUFUO1NBQ2hCLGFBQVNBLEtBQVQsRUFBZ0I7YUFDbEJBLEtBQUwsR0FBYUEsS0FBYjs7Q0FGSzs7QUFNUCxBQUFPLElBQUlDLE9BQU87Z0JBQ0wsSUFESztTQUVaLGFBQVNELEtBQVQsRUFBZ0I7YUFDZkUsVUFBTCxHQUFrQkYsS0FBbEI7O0NBSEs7O0FBT1AsQUFBTyxJQUFJRyxTQUFTO2VBQ0wsRUFESztrQkFFRixzQkFBU0gsS0FBVCxFQUFnQjthQUFPSSxTQUFMLEdBQWlCSixLQUFqQjs7Q0FGN0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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
